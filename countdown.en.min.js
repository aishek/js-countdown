var Countdown=function(){function b(a){a||(a={});var b=function(){};this.handlers={progress:a.progress||b,complete:a.complete||b};this.sign=null}function c(a){this.value=a}b.prototype.start_to=function(a){if("number"!==typeof a)throw Error("must specify seconds_form_unix_epoch_to_complete for countdown.start_to()");this.start(a,-1,0)};b.prototype.start_from=function(a){"number"!==typeof a&&(a=this.seconds_from_unix_epoch_now());this.start(a,1,null)};b.prototype.seconds_from_unix_epoch_now=function(){var a=
(new Date).getTime();return Math.floor(a/1E3)};b.prototype.start=function(a,b,f){this.set_current(a);this.sign=b;this.complete_at=f;this.resume_ticking()};b.prototype.pause_ticking=function(){clearInterval(this.interval_id)};b.prototype.resume_ticking=function(){var a=this;this.interval_id=setInterval(function(){a.tick()},1E3)};b.prototype.set_current=function(a){this.current=a;this.handlers.progress(this.current)};b.prototype.tick=function(){this.set_current(this.current+this.sign);this.current===
this.complete_at&&(this.handlers.complete(),this.reset())};b.prototype.reset=function(a){this.pause_ticking();this.sign=null};b.Helper={};c.prototype.seconds=function(){this.calculated||(this.calculated=this.calculate());return this.calculated.seconds};c.prototype.minutes=function(){this.calculated||(this.calculated=this.calculate());return this.calculated.minutes};c.prototype.hours=function(){this.calculated||(this.calculated=this.calculate());return this.calculated.hours};c.prototype.days=function(){this.calculated||
(this.calculated=this.calculate());return this.calculated.days};c.prototype.SECONDS_COUNTS=[86400,3600,60,1];c.prototype.calculate=function(){for(var a=this.SECONDS_COUNTS,b=[],f=this.value,e,d,c=0,g=a.length;c<g;c++)e=a[c],d=Math.floor(f/e),b.push(d),f-=d*e;return{days:b[0],hours:b[1],minutes:b[2],seconds:b[3]}};b.Helper.Progress=c;b.Helper.Pluralize={};b.Helper.Pluralize.en={seconds:function(a){return 1===a?"second":"seconds"},minutes:function(a){return 1===a?"minute":"minutes"},hours:function(a){return 1===
a?"hour":"hours"},days:function(a){return 1===a?"day":"days"}};b.Helper.Pluralize.label_builder_factory=function(a){var c=b.Helper.Pluralize[a];return function(a){a=new b.Helper.Progress(a);var e=[],d=a.days();0<d&&e.push(d+" "+c.days(d));d=a.hours();0<d&&e.push(d+" "+c.hours(d));d=a.minutes();0<d&&e.push(d+" "+c.minutes(d));a=a.seconds();e.push(a+" "+c.seconds(a));return e=e.join(" ")}};return b}();
